package eComProject;

import java.time.Duration;
import java.util.concurrent.TimeUnit;
import org.generalstore.pageobjects.LoginFormPage;
import org.openqa.selenium.By;
import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.Keys;
import org.testng.Assert;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import com.google.common.collect.ImmutableMap;

import ecom.TestUtils.Base;
import io.appium.java_client.android.Activity;
import io.appium.java_client.android.nativekey.AndroidKey;
import io.appium.java_client.android.nativekey.KeyEvent;

public class LoginTest extends Base {

	@BeforeMethod
	public void homeScreen() throws InterruptedException {
		Thread.sleep(2000);
		login.startActivity();

//		Activity act = new Activity("com.androidsample.generalstore","com.androidsample.generalstore.SplashActivity");
//		((JavascriptExecutor)driver).executeScript("mobile: startActivity",
//				ImmutableMap.of("intent","com.androidsample.generalstore/com.androidsample.generalstore.SplashActivity"));
	}

	@Test
	public void errorToast() throws InterruptedException {
		// login = new LoginFormPage(driver);
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));
		driver.hideKeyboard();
		login.selectGender("female");
		login.selectCountry("Argentina");
		login.login();
		Thread.sleep(1500);
		login.verifytoastmessage("Please enter your name");
		Thread.sleep(2000);
	}

	@Test
	public void submitForm() throws InterruptedException {
		log.fillform();
	}

}
